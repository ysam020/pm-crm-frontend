"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[7939],{7939:(e,o,a)=>{a.d(o,{addAttendance:()=>r});var t=a(3785);const r=async(e,o,a)=>{try{let o=null,n=null;if(navigator.geolocation)try{const e=await new Promise(((e,o)=>{navigator.geolocation.getCurrentPosition((o=>e(o)),(e=>o(e)),{timeout:1e4,maximumAge:0})}));o=e.coords.latitude,n=e.coords.longitude}catch(r){if(1===r.code)throw new Error("User denied Geolocation")}await t.A.post("/add-attendance",{field:e,latitude:o,longitude:n}),a()}catch(n){let e="";if(n.response)e=n.response.data.message;else switch(n.message){case"Network Error":e="Network Error, your details will be submitted when you are back online";break;case"User denied Geolocation":e="Location permission denied. Please enable location.";break;default:e=n.message||"An unknown error occurred."}o({open:!0,message:e,severity:"error"})}}}}]);