"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[1893],{1893:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var s=n(9950),a=n(2436),i=n(249),r=n(2610),c=n(3563),l=n(8394),o=n(7324),d=n(4745),h=n(9845),x=n(32),u=n(4414);function A(){const{user:e,setUser:t}=(0,s.useContext)(a.R),[A,b]=(0,s.useState)(!1),[m,j]=(0,s.useState)(null),{setAlert:g}=(0,s.useContext)(h.C);(0,s.useEffect)((()=>{e&&(b(e.isTwoFactorEnabled||!1),j(e.qrCodeImage||null))}),[e]);return(0,u.jsx)(l.A,{container:!0,children:(0,u.jsx)(l.A,{size:12,children:(0,u.jsxs)(i.A,{sx:{width:"100%"},children:[(0,u.jsxs)(r.Ay,{children:[(0,u.jsx)(c.A,{primary:"WebAuthn Registration (for password-less login)"}),(0,u.jsxs)(x.A,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,u.jsx)("button",{style:{marginTop:0},className:"btn",onClick:async()=>{const{initiateWebauthnRegistration:e}=await n.e(4137).then(n.bind(n,4137));e(g)},children:"Enable on this device"}),(0,u.jsx)("button",{style:{marginTop:0,marginLeft:"10px"},className:"btn",onClick:async()=>{const{disableWebAuthn:e}=await n.e(9604).then(n.bind(n,9604));e(g)},children:"Disable"})]})]}),(0,u.jsx)(d.A,{variant:"fullWidth",component:"li"}),(0,u.jsxs)(r.Ay,{alignItems:"flex-start",children:[(0,u.jsx)(c.A,{primary:"Two Factor Authentication (2FA)"}),(0,u.jsx)(o.A,{checked:A,onChange:async s=>{if(s.target.checked){const{enableTwoFactor:s}=await n.e(9970).then(n.bind(n,9970));s(e,b,j,t)}else{const{disableTwoFactor:e}=await n.e(2221).then(n.bind(n,2221));e(b,g)}}})]}),A&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.Ay,{alignItems:"flex-start",children:(0,u.jsx)(c.A,{primary:"Scan the QR code below to enable 2FA using Authenticator App"})}),(0,u.jsx)(r.Ay,{children:(0,u.jsx)(x.A,{sx:{width:"100%",textAlign:"center"},children:(0,u.jsx)("img",{src:m,alt:"QR code"})})})]})]})})})}const b=s.memo(A)}}]);