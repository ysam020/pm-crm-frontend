"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[6244],{6244:(e,s,c)=>{c.r(s),c.d(s,{default:()=>m});var n=c(9950),t=c(2436),a=c(9845),i=c(3274),l=c(5333),o=c(4745),r=c(8394),d=c(3235),u=c(4414);const p=(0,d.A)((0,u.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded");var h=c(760);const x=(0,d.A)((0,u.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail");function k(){var e;const{user:s,setUser:d}=(0,n.useContext)(t.R),{setAlert:k}=(0,n.useContext)(a.C),m=(0,n.useMemo)((()=>{var e;return null===(e=s.backupCodes)||void 0===e?void 0:e.reduce(((e,s,c)=>(c%2===0?e.push([s]):e[e.length-1].push(s),e)),[])}),[s.backupCodes]),C=async function(e){try{for(var s=arguments.length,n=new Array(s>1?s-1:0),t=1;t<s;t++)n[t-1]=arguments[t];switch(e){case"requestNewCodes":{const{requestNewCodes:e}=await c.e(4032).then(c.bind(c,4032));e(...n);break}case"deleteCodes":{const{deleteCodes:e}=await c.e(8730).then(c.bind(c,8730));e(...n);break}case"sendEmail":{const{sendEmail:e}=await c.e(4470).then(c.bind(c,4470));e(...n);break}default:throw new Error("Invalid action type")}}catch(a){console.error("Failed to perform action:",a)}};function b(e){let{title:s,icon:c,onClick:n}=e;return(0,u.jsx)(i.A,{title:s,children:(0,u.jsx)(l.A,{onClick:n,children:(0,u.jsx)(c,{})})})}return(0,u.jsxs)("div",{className:"backup-codes profile-container",children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)("div",{style:{flex:1},children:[(0,u.jsx)("h5",{children:"Your Backup Codes"}),(0,u.jsxs)("p",{children:[null===(e=s.backupCodes)||void 0===e?void 0:e.length," backup codes remaining"]})]}),(0,u.jsxs)("div",{className:"backup-codes-actions",children:[(0,u.jsx)(b,{title:"Request new backup codes",icon:p,onClick:()=>C("requestNewCodes",s,d)}),(0,u.jsx)(b,{title:"Delete backup codes",icon:h.A,onClick:()=>C("deleteCodes",s,d,k)}),(0,u.jsx)(b,{title:"Email backup codes",icon:x,onClick:()=>C("sendEmail",k)})]})]}),(0,u.jsx)(o.A,{variant:"fullWidth",sx:{opacity:1,margin:"20px 0"}}),null===m||void 0===m?void 0:m.map(((e,s)=>(0,u.jsx)(r.A,{container:!0,className:"backup-codes-row",children:e.map(((e,s)=>(0,u.jsx)(r.A,{size:6,children:(0,u.jsx)("p",{children:e})},s)))},s)))]})}const m=n.memo(k)}}]);