"use strict";(self.webpackChunkpaymaster_crm=self.webpackChunkpaymaster_crm||[]).push([[9543],{9543:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var a=i(9950),r=i(32),s=i(9120),n=i(7813),m=i(6888),d=i(3557),o=i(3939),l=i(9714);const u=l.Ik({title:l.Yj().required("Title is required"),date:l.Yj().required("Date is required").matches(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format").test("not-in-past","Date cannot be in the past",(e=>{const t=new Date(e),i=new Date;return i.setHours(0,0,0,0),t>=i})),startTime:l.Yj().required("Start Time is required").matches(/^([01]\d|2[0-3]):([0-5]\d)$/,"Start time must be in HH:MM format"),endTime:l.Yj().required("End Time is required").matches(/^([01]\d|2[0-3]):([0-5]\d)$/,"End time must be in HH:MM format").test("is-later","End time must be later than start time",(function(e){const{startTime:t}=this.parent;if(t&&e){const[i,a]=t.split(":").map(Number),[r,s]=e.split(":").map(Number);if(r<i||r===i&&s<=a)return!1}return!0})),description:l.Yj()});var c=i(3785),b=i(9845),p=i(4414);function h(e){const{setAlert:t}=a.useContext(b.C),i=(0,o.Wx)({initialValues:{title:"",date:"",startTime:"",endTime:"",description:""},validationSchema:u,onSubmit:async i=>{try{await c.A.post("/add-event",i),e.handleClose(),e.getEvents()}catch(a){t({open:!0,message:"Network Error"===a.message?"Network Error, your details will be submitted when you are back online":a.response.data.message,severity:"error"})}}});return(0,p.jsx)("div",{children:(0,p.jsx)(s.A,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",disableEscapeKeyDown:!0,children:(0,p.jsx)(r.A,{sx:n.i,children:(0,p.jsxs)("form",{onSubmit:i.handleSubmit,children:[(0,p.jsx)("h5",{children:"Add New Event"}),(0,p.jsx)(m.A,{id:"title",name:"title",label:"Title",formik:i}),(0,p.jsx)(m.A,{id:"date",name:"date",label:"Date",type:"date",formik:i}),(0,p.jsx)(m.A,{id:"startTime",name:"startTime",label:"Start Time",type:"time",formik:i}),(0,p.jsx)(m.A,{id:"endTime",name:"endTime",label:"End Time",type:"time",formik:i}),(0,p.jsx)(m.A,{id:"description",name:"description",label:"Description",formik:i}),(0,p.jsx)(d.A,{name:"Submit",isSubmitting:i.isSubmitting})]})})})})}const f=a.memo(h)}}]);